{
  "Version": "2019-10-30",
  "StartAction": "ee77fbf0-4248-4691-8b74-e63381a24852",
  "Metadata": {
    "entryPointPosition": {
      "x": 17,
      "y": 15
    },
    "snapToGrid": false,
    "ActionMetadata": {
      "d5fd8eed-513f-4791-ba80-4390af68eb1f": {
        "position": {
          "x": 715,
          "y": 30
        }
      },
      "a0330055-2566-4f66-a59d-88dac3777269": {
        "position": {
          "x": 480,
          "y": 135
        },
        "useDynamic": false
      },
      "ee77fbf0-4248-4691-8b74-e63381a24852": {
        "position": {
          "x": 222,
          "y": 31
        },
        "dynamicMetadata": {
        },
        "useDynamic": false
      },
      "e05e8fe8-5be4-48ea-86d7-25fdc04165f9": {
        "position": {
          "x": 15,
          "y": 279
        },
        "conditionMetadata": [
          {
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "True",
            "id": "7ae90ade-fffd-4c20-bbeb-131675e559a3"
          },
          {
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "False",
            "id": "6bcfd8cb-8bf4-45fb-b180-463635ecef92"
          }
        ]
      },
      "f84a8712-72f8-47a1-9eee-043fd97cc8a5": {
        "position": {
          "x": 793,
          "y": 1224
        }
      },
      "ee261827-d781-433b-ba92-fb848f824b5e": {
        "position": {
          "x": 562,
          "y": 846
        },
        "useDynamic": false
      },
      "559e83e1-77cc-48e6-9e08-f20c53100e95": {
        "position": {
          "x": 280,
          "y": 383
        }
      },
      "a253e0fb-15c2-486c-ad05-3b3e357cb898": {
        "position": {
          "x": 2277,
          "y": 465
        }
      },
      "160461a8-edd1-4ffe-8dc6-f647f765edf8": {
        "position": {
          "x": 1748,
          "y": 471
        },
        "useDynamic": false,
        "ContactFlow": {
          "id": "${var.flows_map[_03_ahead_voicemail_flow_spanish]}",
          "text": "${}"
        }
      },
      "00243319-e12b-4359-95c1-1c278f3921fc": {
        "position": {
          "x": 1073,
          "y": 550
        },
        "useDynamic": false
      },
      "a680c6c2-d3fc-4549-b730-686d2c635790": {
        "position": {
          "x": 1411,
          "y": 595
        },
        "useDynamic": false
      },
      "0339db8e-5976-43d5-aa91-c439ed58a6bf": {
        "position": {
          "x": 607,
          "y": 415
        },
        "conditionMetadata": [
          {
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "AHEAD-Spanish",
            "id": "c2d26ab5-fb43-43d7-8402-10f123500064"
          },
          {
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "AHEAD",
            "id": "6a5ced30-27b4-4008-862f-efeaac9956a9"
          }
        ]
      },
      "b36a0323-0164-4742-bb02-917ce36a96f5": {
        "position": {
          "x": 2040,
          "y": 353
        },
        "useDynamic": false
      },
      "a9bb07ee-61a5-4977-92f7-130112f8e1cd": {
        "position": {
          "x": 1368,
          "y": 55
        },
        "useDynamic": false
      },
      "a3b6c7e1-ed4d-4980-8ef9-8f151743927f": {
        "position": {
          "x": 1061,
          "y": 44
        },
        "useDynamic": false
      },
      "2f9287d6-2b41-4818-8e3f-20ddc02afae8": {
        "position": {
          "x": 1768,
          "y": 87
        },
        "useDynamic": false,
        "ContactFlow": {
          "id": "${var.flows_map[_03_ahead_voicemail_flow_english]}",
          "text": "${}"
        }
      },
      "1156005d-fccc-421a-a95a-cff7c83145bf": {
        "position": {
          "x": 264,
          "y": 894
        },
        "useDynamic": false,
        "ContactFlow": {
          "id": "${var.flows_map[_03_ahead_after_hours_spanish]}",
          "text": "${}"
        }
      },
      "61029f55-7182-40ae-ba9d-375c64590836": {
        "position": {
          "x": 541,
          "y": 1085
        },
        "useDynamic": false
      },
      "5b1819a5-bfe6-47c3-aaaa-6f6abd7a64a9": {
        "position": {
          "x": 16,
          "y": 827
        },
        "conditionMetadata": [
          {
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "AHEAD-Spanish",
            "id": "017f394f-5a62-4315-82cc-ac7ddb1fe319"
          },
          {
            "operator": {
              "name": "Equals",
              "value": "Equals",
              "shortDisplay": "="
            },
            "value": "AHEAD",
            "id": "c2a7d8bc-e90b-4acb-a863-94be1d99d4a1"
          }
        ]
      },
      "6f3917a2-61ca-4f51-9bf8-f5e5a483b715": {
        "position": {
          "x": 269,
          "y": 1152
        },
        "useDynamic": false,
        "ContactFlow": {
          "id": "${var.flows_map[_03_ahead_after_hours_english]}",
          "text": "${}"
        }
      }
    }
  },
  "Actions": [
    {
      "Identifier": "d5fd8eed-513f-4791-ba80-4390af68eb1f",
      "Type": "DisconnectParticipant",
      "Parameters": {
      },
      "Transitions": {
      }
    },
    {
      "Identifier": "a0330055-2566-4f66-a59d-88dac3777269",
      "Parameters": {
        "Text": "Sorry, you have encountered an error. Error code: 141"
      },
      "Transitions": {
        "NextAction": "d5fd8eed-513f-4791-ba80-4390af68eb1f",
        "Errors": [

        ],
        "Conditions": [

        ]
      },
      "Type": "MessageParticipant"
    },
    {
      "Identifier": "ee77fbf0-4248-4691-8b74-e63381a24852",
      "Parameters": {
        "LambdaFunctionARN": "arn:aws:lambda:us-east-1:201706955376:function:CheckHoliday",
        "InvocationTimeLimitSeconds": "3"
      },
      "Transitions": {
        "NextAction": "e05e8fe8-5be4-48ea-86d7-25fdc04165f9",
        "Errors": [
          {
            "NextAction": "a0330055-2566-4f66-a59d-88dac3777269",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": [

        ]
      },
      "Type": "InvokeLambdaFunction"
    },
    {
      "Identifier": "e05e8fe8-5be4-48ea-86d7-25fdc04165f9",
      "Parameters": {
        "ComparisonValue": "$.External.HolidayStatus"
      },
      "Transitions": {
        "NextAction": "559e83e1-77cc-48e6-9e08-f20c53100e95",
        "Errors": [
          {
            "NextAction": "559e83e1-77cc-48e6-9e08-f20c53100e95",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": [
          {
            "NextAction": "5b1819a5-bfe6-47c3-aaaa-6f6abd7a64a9",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "True"
              ]
            }
          },
          {
            "NextAction": "559e83e1-77cc-48e6-9e08-f20c53100e95",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "False"
              ]
            }
          }
        ]
      },
      "Type": "Compare"
    },
    {
      "Identifier": "f84a8712-72f8-47a1-9eee-043fd97cc8a5",
      "Type": "DisconnectParticipant",
      "Parameters": {
      },
      "Transitions": {
      }
    },
    {
      "Identifier": "ee261827-d781-433b-ba92-fb848f824b5e",
      "Parameters": {
        "Text": "Sorry, you have encountered an internal system error. Please try again, or contact us via our website at good measures dot com. Thank you. Error code: 702."
      },
      "Transitions": {
        "NextAction": "f84a8712-72f8-47a1-9eee-043fd97cc8a5",
        "Errors": [

        ],
        "Conditions": [

        ]
      },
      "Type": "MessageParticipant"
    },
    {
      "Identifier": "559e83e1-77cc-48e6-9e08-f20c53100e95",
      "Parameters": {
      },
      "Transitions": {
        "NextAction": "ee261827-d781-433b-ba92-fb848f824b5e",
        "Errors": [
          {
            "NextAction": "ee261827-d781-433b-ba92-fb848f824b5e",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": [
          {
            "NextAction": "0339db8e-5976-43d5-aa91-c439ed58a6bf",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "True"
              ]
            }
          },
          {
            "NextAction": "5b1819a5-bfe6-47c3-aaaa-6f6abd7a64a9",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "False"
              ]
            }
          }
        ]
      },
      "Type": "CheckHoursOfOperation"
    },
    {
      "Identifier": "a253e0fb-15c2-486c-ad05-3b3e357cb898",
      "Type": "DisconnectParticipant",
      "Parameters": {
      },
      "Transitions": {
      }
    },
    {
      "Identifier": "160461a8-edd1-4ffe-8dc6-f647f765edf8",
      "Parameters": {
        "ContactFlowId": "arn:aws:connect:us-east-1:201706955376:instance/03103f71-db62-4f61-9432-4bfae356b3e3/contact-flow/273e2e85-2342-4897-a3f3-c585f6bc348f"
      },
      "Transitions": {
        "NextAction": "b36a0323-0164-4742-bb02-917ce36a96f5",
        "Errors": [
          {
            "NextAction": "b36a0323-0164-4742-bb02-917ce36a96f5",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": [

        ]
      },
      "Type": "TransferToFlow"
    },
    {
      "Identifier": "00243319-e12b-4359-95c1-1c278f3921fc",
      "Parameters": {
        "MetricType": "NumberOfAgentsAvailable"
      },
      "Transitions": {
        "NextAction": "b36a0323-0164-4742-bb02-917ce36a96f5",
        "Errors": [
          {
            "NextAction": "b36a0323-0164-4742-bb02-917ce36a96f5",
            "ErrorType": "NoMatchingError"
          },
          {
            "NextAction": "160461a8-edd1-4ffe-8dc6-f647f765edf8",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": [
          {
            "NextAction": "a680c6c2-d3fc-4549-b730-686d2c635790",
            "Condition": {
              "Operator": "NumberGreaterThan",
              "Operands": [
                "0"
              ]
            }
          }
        ]
      },
      "Type": "CheckMetricData"
    },
    {
      "Identifier": "a680c6c2-d3fc-4549-b730-686d2c635790",
      "Transitions": {
        "NextAction": "b36a0323-0164-4742-bb02-917ce36a96f5",
        "Errors": [
          {
            "NextAction": "b36a0323-0164-4742-bb02-917ce36a96f5",
            "ErrorType": "NoMatchingError"
          },
          {
            "NextAction": "160461a8-edd1-4ffe-8dc6-f647f765edf8",
            "ErrorType": "QueueAtCapacity"
          }
        ],
        "Conditions": [

        ]
      },
      "Type": "TransferContactToQueue"
    },
    {
      "Identifier": "0339db8e-5976-43d5-aa91-c439ed58a6bf",
      "Parameters": {
        "ComparisonValue": "$.Attributes.QueueName"
      },
      "Transitions": {
        "NextAction": "ee261827-d781-433b-ba92-fb848f824b5e",
        "Errors": [
          {
            "NextAction": "ee261827-d781-433b-ba92-fb848f824b5e",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": [
          {
            "NextAction": "00243319-e12b-4359-95c1-1c278f3921fc",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "AHEAD-Spanish"
              ]
            }
          },
          {
            "NextAction": "a3b6c7e1-ed4d-4980-8ef9-8f151743927f",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "AHEAD"
              ]
            }
          }
        ]
      },
      "Type": "Compare"
    },
    {
      "Identifier": "b36a0323-0164-4742-bb02-917ce36a96f5",
      "Parameters": {
        "Text": "Sorry, you have encountered an internal system error. Please try again, or contact us via our website at good measures dot com. Thank you. Error code: 703."
      },
      "Transitions": {
        "NextAction": "a253e0fb-15c2-486c-ad05-3b3e357cb898",
        "Errors": [

        ],
        "Conditions": [

        ]
      },
      "Type": "MessageParticipant"
    },
    {
      "Identifier": "a9bb07ee-61a5-4977-92f7-130112f8e1cd",
      "Transitions": {
        "NextAction": "b36a0323-0164-4742-bb02-917ce36a96f5",
        "Errors": [
          {
            "NextAction": "b36a0323-0164-4742-bb02-917ce36a96f5",
            "ErrorType": "NoMatchingError"
          },
          {
            "NextAction": "2f9287d6-2b41-4818-8e3f-20ddc02afae8",
            "ErrorType": "QueueAtCapacity"
          }
        ],
        "Conditions": [

        ]
      },
      "Type": "TransferContactToQueue"
    },
    {
      "Identifier": "a3b6c7e1-ed4d-4980-8ef9-8f151743927f",
      "Parameters": {
        "MetricType": "NumberOfAgentsAvailable"
      },
      "Transitions": {
        "NextAction": "b36a0323-0164-4742-bb02-917ce36a96f5",
        "Errors": [
          {
            "NextAction": "b36a0323-0164-4742-bb02-917ce36a96f5",
            "ErrorType": "NoMatchingError"
          },
          {
            "NextAction": "2f9287d6-2b41-4818-8e3f-20ddc02afae8",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": [
          {
            "NextAction": "a9bb07ee-61a5-4977-92f7-130112f8e1cd",
            "Condition": {
              "Operator": "NumberGreaterThan",
              "Operands": [
                "0"
              ]
            }
          }
        ]
      },
      "Type": "CheckMetricData"
    },
    {
      "Identifier": "2f9287d6-2b41-4818-8e3f-20ddc02afae8",
      "Parameters": {
        "ContactFlowId": "arn:aws:connect:us-east-1:201706955376:instance/03103f71-db62-4f61-9432-4bfae356b3e3/contact-flow/58861e87-c727-4df5-b333-c894a8cb48fd"
      },
      "Transitions": {
        "NextAction": "b36a0323-0164-4742-bb02-917ce36a96f5",
        "Errors": [
          {
            "NextAction": "b36a0323-0164-4742-bb02-917ce36a96f5",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": [

        ]
      },
      "Type": "TransferToFlow"
    },
    {
      "Identifier": "1156005d-fccc-421a-a95a-cff7c83145bf",
      "Parameters": {
        "ContactFlowId": "arn:aws:connect:us-east-1:201706955376:instance/03103f71-db62-4f61-9432-4bfae356b3e3/contact-flow/515bf34d-8672-45e6-b1a1-4490aa080614"
      },
      "Transitions": {
        "NextAction": "61029f55-7182-40ae-ba9d-375c64590836",
        "Errors": [
          {
            "NextAction": "61029f55-7182-40ae-ba9d-375c64590836",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": [

        ]
      },
      "Type": "TransferToFlow"
    },
    {
      "Identifier": "61029f55-7182-40ae-ba9d-375c64590836",
      "Parameters": {
        "Text": "Sorry, you have encountered an internal system error. Please try again, or contact us via our website at good measures dot com. Thank you. Error code: 703."
      },
      "Transitions": {
        "NextAction": "f84a8712-72f8-47a1-9eee-043fd97cc8a5",
        "Errors": [

        ],
        "Conditions": [

        ]
      },
      "Type": "MessageParticipant"
    },
    {
      "Identifier": "5b1819a5-bfe6-47c3-aaaa-6f6abd7a64a9",
      "Parameters": {
        "ComparisonValue": "$.Attributes.QueueName"
      },
      "Transitions": {
        "NextAction": "6f3917a2-61ca-4f51-9bf8-f5e5a483b715",
        "Errors": [
          {
            "NextAction": "6f3917a2-61ca-4f51-9bf8-f5e5a483b715",
            "ErrorType": "NoMatchingCondition"
          }
        ],
        "Conditions": [
          {
            "NextAction": "1156005d-fccc-421a-a95a-cff7c83145bf",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "AHEAD-Spanish"
              ]
            }
          },
          {
            "NextAction": "6f3917a2-61ca-4f51-9bf8-f5e5a483b715",
            "Condition": {
              "Operator": "Equals",
              "Operands": [
                "AHEAD"
              ]
            }
          }
        ]
      },
      "Type": "Compare"
    },
    {
      "Identifier": "6f3917a2-61ca-4f51-9bf8-f5e5a483b715",
      "Parameters": {
        "ContactFlowId": "arn:aws:connect:us-east-1:201706955376:instance/03103f71-db62-4f61-9432-4bfae356b3e3/contact-flow/9399097a-3577-453b-aa66-39567829d913"
      },
      "Transitions": {
        "NextAction": "61029f55-7182-40ae-ba9d-375c64590836",
        "Errors": [
          {
            "NextAction": "61029f55-7182-40ae-ba9d-375c64590836",
            "ErrorType": "NoMatchingError"
          }
        ],
        "Conditions": [

        ]
      },
      "Type": "TransferToFlow"
    }
  ]
}